# Plugin-tee-onchain-da

## 概述

Eliza 将指定 AI 代理的"生命"信息（如角色文件、内存和密钥库）实时写入区块链（或 DA 层）。如果运行指定 AI 代理的 TEE 节点因任何原因关闭，另一个 TEE 节点可以从链上下载 AI 代理的"生命"数据并恢复其运行。

## 功能特性

- **实时数据同步**：持续将 AI 代理状态同步到区块链
- **安全数据存储**：在链上存储 TEE 加密的数据
- **无缝恢复**：在任何 TEE 节点上快速恢复 AI 代理状态
- **版本控制**：确保只有兼容的 TEE 版本才能恢复代理

## 技术细节

### 数据结构
- 角色文件
- 内存状态
- 密钥库信息
- 运行时配置

### 同步流程
1. 状态变更检测
2. TEE 中的数据加密
3. 区块链交易提交
4. 确认和验证

### 恢复机制
- 状态验证
- 数据解密
- 环境准备
- 代理恢复

## 安全考虑

1. **数据保护**
   - TEE 加密
   - 访问控制
   - 版本兼容性

2. **状态管理**
   - 原子更新
   - 一致性检查
   - 回滚机制

3. **网络安全**
   - 安全 RPC 连接
   - 速率限制
   - 错误处理
